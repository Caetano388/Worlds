{
  "decisions": [
    {
      "id": "clan_demands_influence",
      "name": "clan demands influence",
      "target": "faction",
      "parameters": [
        { "id": "dominant_faction", "type": "faction" },
        { "id": "target_chance_of_making_demand", "type": "number" },
        { "id": "dominant_chance_of_rejecting_demand", "type": "number" }
      ],
      "description": [
        {
          "id": "clan_demands_influence_description_intro",
          "text": "Members of clan <<target>> have suggested for the clan leader, <<target.leader>>, to demand more influence within the <<target.polity>> tribe from the current dominant clan, <<dominant_faction>>.\n\nShould <<target.leader>> make the demand?"
        }
      ],
      "options": [
        {
          "id": "clan_demands_influence_make_demand",
          "text": "Demand more influence from <<dominant_faction>>...",
          "weight": "target_chance_of_making_demand",
          "effects": [
            {
              "id": "clan_demands_influence_make_demand_increase_authority",
              "properties": [
                { "id": "wisdom_factor", "value": "0.5 + target.leader.wisdom" },
                { "id": "target_authority", "value": "target.preferences.authority" },
                { "id": "authority_min", "value": "lerp(target_authority, 1, (0.1 * wisdom_factor))" },
                { "id": "authority_max", "value": "lerp(target_authority, 1, (0.2 * wisdom_factor))" }
              ],
              "text": "Clan <<target>>: authority preference (<<target_authority>>) increases to: <<authority_min>> - <<authority_max>>",
              "result": "target.preferences.authority = random(authority_min, authority_max)"
            },
            {
              "id": "clan_demands_influence_make_demand",
              "text": "The current leader of clan <<dominant_faction>> will receive a demand for infuence from clan <<target>>",
              "result": "dominant_faction.trigger_decision(influence_demanded_from_clan, target, dominant_chance_of_rejecting_demand)"
            }
          ]
        },
        {
          "id": "clan_demands_influence_dont_make_demand",
          "text": "Avoid making any demands at this time...",
          "weight": "1 - target_chance_of_making_demand",
          "effects": [
            {
              "id": "clan_demands_influence_dont_make_demand_decrease_authority",
              "properties": [
                { "id": "wisdom_factor", "value": "1.5 - target.leader.wisdom" },
                { "id": "target_authority", "value": "target.preferences.authority" },
                { "id": "authority_min", "value": "lerp(target_authority, 0, (0.2 * wisdom_factor))" },
                { "id": "authority_max", "value": "lerp(target_authority, 0, (0.1 * wisdom_factor))" }
              ],
              "text": "Clan <<target>>: authority preference (<<target_authority>>) decreases to: <<authority_min>> - <<authority_max>>",
              "result": "target.preferences.authority = random(authority_min, authority_max)"
            },
            {
              "id": "clan_demands_influence_dont_make_demand_increase_relation",
              "properties": [
                { "id": "charisma_factor", "value": "0.5 + target.leader.charisma" },
                { "id": "relationship_value", "value": "target.relationship(dominant_faction)" },
                { "id": "relationship_min", "value": "lerp(relationship_value, 1, (0.2 * charisma_factor))" },
                { "id": "relationship_max", "value": "lerp(relationship_value, 1, (0.1 * charisma_factor))" }
              ],
              "text": "Clan <<target>>: relationship with <<dominant_faction>> increases from <<relationship_value>> to: <<relationship_min>> - <<relationship_max>>",
              "result": "target.set_relationship(dominant_faction, random(relationship_min, relationship_max))"
            }
          ]
        }
      ]
    }
  ]
}
